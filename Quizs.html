<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quizs & Juegos - ComicVerse</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --orange-cr: #F47521; 
            --dark-bg: #000000;
        }
        body {
            background-color: var(--dark-bg);
            color: white;
            font-family: 'Segoe UI', sans-serif;
            overflow-x: hidden;
        }

        /* --- Scrollbar Personalizado --- */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: #111; }
        ::-webkit-scrollbar-thumb { background: var(--orange-cr); border-radius: 4px; }
        
        .hide-scroll::-webkit-scrollbar { display: none; }
        .hide-scroll { -ms-overflow-style: none; scrollbar-width: none; }

        /* --- Efecto 3D Portada --- */
        .game-card-container { perspective: 1000px; }
        .game-card {
            background: #111; border: 1px solid #333; border-radius: 16px; overflow: hidden;
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); transform-style: preserve-3d; position: relative;
        }
        .game-card-container:hover .game-card {
            transform: translateY(-8px) rotateX(3deg);
            box-shadow: 0 15px 30px rgba(244, 117, 33, 0.25); border-color: var(--orange-cr);
        }

        /* --- Imágenes Cuadradas --- */
        .game-img-box { width: 100%; aspect-ratio: 1/1; position: relative; overflow: hidden; }
        .game-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
        .game-card:hover .game-img { transform: scale(1.1); }

        /* --- Modal Detalles (Previo al juego) --- */
        .modal-overlay { 
            position: fixed; inset: 0; background: rgba(0,0,0,0.9); backdrop-filter: blur(8px); 
            display: flex; align-items: center; justify-content: center; z-index: 60; 
            opacity: 0; pointer-events: none; transition: 0.3s; 
        }
        .modal-overlay.active { opacity: 1; pointer-events: auto; }
        .modal-box { 
            background: #151515; border: 1px solid #333; border-radius: 12px; padding: 2rem; 
            width: 90%; max-width: 500px; position: relative; transform: scale(0.9); 
            transition: 0.3s; box-shadow: 0 0 50px rgba(244,117,33,0.1); 
        }
        .modal-overlay.active .modal-box { transform: scale(1); }

        /* --- GAME VIEWER (VISOR DE JUEGO) --- */
        .game-viewer-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; /* Fondo negro sólido para inmersión */
            z-index: 100;
            display: none; /* Oculto por defecto, JS lo cambia a flex */
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            overflow-y: auto; /* Permite scroll si los anuncios son muy altos */
        }
        .game-viewer-overlay.active { display: flex; }
        
        /* 1. ANUNCIO ARRIBA */
        .ad-top-container {
            width: 100%; display: flex; justify-content: center; background: #111; padding: 10px 0;
            border-bottom: 1px solid #333; flex-shrink: 0;
        }

        /* 2. JUEGO (CENTRO) */
        .game-frame-wrapper {
            flex-grow: 1; /* Ocupa todo el espacio disponible */
            width: 100%;
            max-width: 1216px; /* Límite de ancho para PC */
            display: flex; flex-direction: column;
            position: relative;
            padding: 10px;
        }
        .game-frame-container {
            width: 100%; height: 100%;
            background: #000; border: 2px solid var(--orange-cr);
            border-radius: 8px; position: relative; overflow: hidden;
            box-shadow: 0 0 30px rgba(244,117,33,0.2);
            min-height: 400px; /* Altura mínima garantizada */
        }
        .game-iframe { width: 100%; height: 100%; border: none; }
        
        /* Botón Salir */
        .close-game-btn {
            position: absolute; top: 20px; right: 20px;
            background: #F47521; color: black;
            padding: 8px 20px; border-radius: 30px;
            font-weight: 900; font-size: 0.8rem;
            text-transform: uppercase; letter-spacing: 1px;
            border: 2px solid white;
            box-shadow: 0 0 15px rgba(0,0,0,0.5);
            display: flex; align-items: center; gap: 5px;
            z-index: 50; cursor: pointer; transition: all 0.2s;
        }
        .close-game-btn:hover { transform: scale(1.05); background: white; color: #F47521; }

        /* 3. ANUNCIO ABAJO (NATIVO) */
        .ad-bottom-container {
            width: 100%;
            padding: 20px 0;
            background: #080808;
            border-top: 1px solid #333;
            display: flex; justify-content: center;
            flex-shrink: 0;
            min-height: 200px; /* Espacio para que el nativo respire */
        }

        /* --- Slider Horizontal --- */
        .games-slider {
            display: flex; gap: 24px; overflow-x: auto; padding: 20px 0;
            scroll-snap-type: x mandatory;
        }
        .slider-item {
            min-width: 280px; max-width: 320px; flex-shrink: 0; scroll-snap-align: center;
        }
    </style>
</head>
<body class="relative min-h-screen pb-20">

    <div class="p-4 md:p-8 max-w-7xl mx-auto">
        
        <!-- HEADER -->
        <div class="flex items-center gap-3 mb-6 border-b border-gray-800 pb-6">
            <div class="w-2 h-12 bg-gradient-to-b from-[#F47521] to-purple-600 shadow-[0_0_20px_#F47521]"></div>
            <div>
                <h1 class="text-4xl md:text-5xl font-black italic uppercase tracking-tighter text-white drop-shadow-xl">
                    Quizs & <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#F47521] to-purple-500">Juegos</span>
                </h1>
                <p class="text-gray-500 text-sm mt-1">
                    Diversión arcade y retos de conocimiento.
                </p>
            </div>
        </div>

        <!-- SLIDER HORIZONTAL DE JUEGOS -->
        <div class="games-slider hide-scroll">

            <!-- JUEGO 1 -->
            <div class="slider-item game-card-container group">
                <div class="game-card" id="card-1">
                    <div class="game-img-box">
                        <img src="Quiz1.png" onerror="this.src='https://placehold.co/1024x1024/111/F47521?text=Avalond+RPG'" class="game-img">
                    </div>
                    <div class="p-4 bg-[#0a0a0a]">
                        <h3 class="text-lg font-black text-white uppercase italic truncate">Avalond: RPG</h3>
                        <button onclick="openDetailModal(1)" class="w-full mt-3 bg-gray-800 hover:bg-[#F47521] hover:text-black text-white font-bold py-2 rounded uppercase text-xs tracking-widest transition">
                            Jugar
                        </button>
                    </div>
                </div>
            </div>

            <!-- JUEGO 2 -->
            <div class="slider-item game-card-container group">
                <div class="game-card" id="card-2">
                    <div class="game-img-box">
                        <img src="Quiz2.png" onerror="this.src='https://placehold.co/1024x1024/111/F47521?text=Quiz+Trivia'" class="game-img">
                    </div>
                    <div class="p-4 bg-[#0a0a0a]">
                        <h3 class="text-lg font-black text-white uppercase italic truncate">Trivia Otaku</h3>
                        <button onclick="openDetailModal(2)" class="w-full mt-3 bg-gray-800 hover:bg-[#F47521] hover:text-black text-white font-bold py-2 rounded uppercase text-xs tracking-widest transition">Jugar</button>
                    </div>
                </div>
            </div>

            <!-- JUEGO 3 -->
            <div class="slider-item game-card-container group">
                <div class="game-card" id="card-3">
                    <div class="game-img-box">
                        <img src="Quiz3.png" onerror="this.src='https://placehold.co/1024x1024/111/F47521?text=Puzzle+X'" class="game-img">
                    </div>
                    <div class="p-4 bg-[#0a0a0a]">
                        <h3 class="text-lg font-black text-white uppercase italic truncate">Puzzle Verse</h3>
                        <button onclick="openDetailModal(3)" class="w-full mt-3 bg-gray-800 hover:bg-[#F47521] hover:text-black text-white font-bold py-2 rounded uppercase text-xs tracking-widest transition">Jugar</button>
                    </div>
                </div>
            </div>

            <!-- JUEGO 4 -->
            <div class="slider-item game-card-container group">
                <div class="game-card" id="card-4">
                    <div class="game-img-box">
                        <img src="Quiz4.png" onerror="this.src='https://placehold.co/1024x1024/111/F47521?text=Runner+2077'" class="game-img">
                    </div>
                    <div class="p-4 bg-[#0a0a0a]">
                        <h3 class="text-lg font-black text-white uppercase italic truncate">Cyber Runner</h3>
                        <button onclick="openDetailModal(4)" class="w-full mt-3 bg-gray-800 hover:bg-[#F47521] hover:text-black text-white font-bold py-2 rounded uppercase text-xs tracking-widest transition">Jugar</button>
                    </div>
                </div>
            </div>

            <!-- JUEGO 5 -->
            <div class="slider-item game-card-container group">
                <div class="game-card" id="card-5">
                    <div class="game-img-box">
                        <img src="Quiz5.png" onerror="this.src='https://placehold.co/1024x1024/111/F47521?text=Card+Battle'" class="game-img">
                    </div>
                    <div class="p-4 bg-[#0a0a0a]">
                        <h3 class="text-lg font-black text-white uppercase italic truncate">Card Battle</h3>
                        <button onclick="openDetailModal(5)" class="w-full mt-3 bg-gray-800 hover:bg-[#F47521] hover:text-black text-white font-bold py-2 rounded uppercase text-xs tracking-widest transition">Jugar</button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- MODAL DE DETALLES (PASO PREVIO) -->
    <div id="detail-modal" class="modal-overlay">
        <div class="modal-box">
            <button onclick="closeDetailModal()" class="absolute top-4 right-4 text-gray-500 hover:text-white"><i class="fa-solid fa-xmark text-xl"></i></button>
            
            <div class="text-center mb-6">
                <div class="w-24 h-24 mx-auto bg-gray-800 rounded-xl mb-4 overflow-hidden border-2 border-[#F47521] shadow-lg">
                    <img id="modal-img" src="" class="w-full h-full object-cover">
                </div>
                <h2 id="modal-title" class="text-2xl font-black text-white uppercase italic">NOMBRE JUEGO</h2>
                <span class="text-xs text-gray-500 font-mono uppercase tracking-widest">Arcade 2D</span>
            </div>
            
            <p id="modal-desc" class="text-gray-300 text-sm mb-8 text-center leading-relaxed">
                Descripción del juego...
            </p>
            
            <button id="modal-play-btn" onclick="unlockAndPlay()" class="w-full bg-gradient-to-r from-[#F47521] to-red-600 text-white font-black uppercase py-4 rounded-lg shadow-lg hover:scale-105 transition-transform flex items-center justify-center gap-2">
                <i class="fa-solid fa-play"></i> INICIAR JUEGO
            </button>
            <p class="text-[10px] text-gray-500 text-center mt-3 flex items-center justify-center gap-1">
                <i class="fa-solid fa-ad"></i> Anuncio al iniciar
            </p>
        </div>
    </div>

    <!-- VISOR DE JUEGO (ESTRUCTURA DE ANUNCIOS CORRECTA) -->
    <div id="game-viewer" class="game-viewer-overlay">
        
        <!-- 1. BANNER NORMAL (ARRIBA) -->
        <div class="ad-top-container">
            <!-- SCRIPT BANNER NORMAL 728x90 (Responsive en Iframe) -->
            <script type="text/javascript">
                atOptions = {
                    'key' : '5ab505225fc2b6723b2e01eb26a1cfb2',
                    'format' : 'iframe',
                    'height' : 90,
                    'width' : 728,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="https://www.highperformanceformat.com/5ab505225fc2b6723b2e01eb26a1cfb2/invoke.js"></script>
        </div>

        <!-- 2. JUEGO (CENTRO - FLEXIBLE) -->
        <div class="game-frame-wrapper">
            <div class="game-frame-container">
                <!-- Botón Cerrar dentro del panel del juego -->
                <button onclick="closeGame()" class="close-game-btn">
                    SALIR <i class="fa-solid fa-right-from-bracket"></i>
                </button>
                
                <iframe id="game-iframe" src="" class="game-iframe" allow="fullscreen"></iframe>
            </div>
        </div>

        <!-- 3. BANNER NATIVO (ABAJO - ESPACIO INFINITO) -->
        <div class="ad-bottom-container">
            <!-- SCRIPT BANNER NATIVO (4:1 RATIO PREFERIDO) -->
            <script async="async" data-cfasync="false" src="https://pl28307525.effectivegatecpm.com/ec1123a13f7bf7f7810ca9fcdef627bc/invoke.js"></script>
            <div id="container-ec1123a13f7bf7f7810ca9fcdef627bc"></div>
        </div>

    </div>

    <script>
        // URL DEL ANUNCIO (Interstitial)
        const adUrl = "https://www.effectivegatecpm.com/m1ys4txk?key=24956a22bda5dca3b4086262eb4b5423";

        // DATOS DE LOS JUEGOS
        const gamesData = {
            1: {
                title: "Avalond: RPG",
                desc: "Explora el mundo mágico de Avalond en este RPG de aventuras 2D.",
                img: "Quiz1.png",
                link: "https://pixworld.io/avalond" 
            },
            2: {
                title: "Trivia Otaku",
                desc: "Demuestra cuánto sabes de anime y manga.",
                img: "Quiz2.png",
                link: "https://itch.io/embed-upload/123456?color=333333" 
            },
            3: {
                title: "Puzzle Verse",
                desc: "Arma los rompecabezas de tus portadas favoritas.",
                img: "Quiz3.png",
                link: "https://itch.io/embed-upload/654321?color=333333" 
            },
            4: {
                title: "Cyber Runner",
                desc: "Corre por los tejados de Neo-Tokyo.",
                img: "Quiz4.png",
                link: "https://itch.io/embed-upload/987654?color=333333" 
            },
            5: {
                title: "Card Battle",
                desc: "Estrategia de cartas con los personajes de ComicVerse.",
                img: "Quiz5.png",
                link: "https://itch.io/embed-upload/456789?color=333333" 
            }
        };

        let currentGameId = null;

        function openDetailModal(id) {
            currentGameId = id;
            const data = gamesData[id];
            
            document.getElementById('modal-title').innerText = data.title;
            document.getElementById('modal-desc').innerText = data.desc;
            document.getElementById('modal-img').src = data.img;
            document.getElementById('modal-img').onerror = function(){ this.src='https://placehold.co/1024x1024/111/F47521?text=Game'; };
            
            document.getElementById('detail-modal').classList.add('active');
        }

        function closeDetailModal() {
            document.getElementById('detail-modal').classList.remove('active');
        }

        function unlockAndPlay() {
            if(!currentGameId) return;
            window.open(adUrl, '_blank');
            closeDetailModal();
            openGameViewer(currentGameId);
        }

        function openGameViewer(id) {
            const viewer = document.getElementById('game-viewer');
            const iframe = document.getElementById('game-iframe');
            
            iframe.src = gamesData[id].link;
            viewer.classList.add('active');
            document.body.style.overflow = 'hidden'; 
        }

        function closeGame() {
            const viewer = document.getElementById('game-viewer');
            const iframe = document.getElementById('game-iframe');
            
            iframe.src = ""; 
            viewer.classList.remove('active');
            document.body.style.overflow = 'auto'; 
        }
    </script>
</body>
</html>
